#summary XML Schema
#labels Phase-Design

= XML Schema =

XML Schema for calendar and tag list. 

=== Tag list contains: ===

 * *tag* - tag/label name

=== Calendar contains: ===

 * *event* - node for each event in the calendar
  * _id_ - unique number specifying event
  * *since* - starting time of the event
  * *duration* - duration of the event
   * pair since-duration is better than ari since-to, because it allows to use more days events
  * *date* - date of begin of the event
  * *title* - title or name of the event
   * _at least one letter is required_
  * *place* - place of event
   * _optional node_
  * *note* - node for some notes about the event
  * *labels* - contains event's tags
   * _optional node
   * *tag* - name of the tag
    * _if node *labels* occurs, then at least one is required

 
 
== Schema code: ==
<code>
<?xml version="1.0" encoding="UTF-8"?>

<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">

<xsd:element name="address-book">
    <xsd:complexType>
        <xsd:sequence>
            <xsd:element name="person" minOccurs="1" maxOccurs="unbounded" type="userType" />
        </xsd:sequence>
    </xsd:complexType>
    <xsd:unique name="userIdUnique">
        <xsd:selector xpath="person"/>
        <xsd:field xpath="@id"/>
    </xsd:unique>
</xsd:element>

<xsd:element name="firstname" type="xsd:string"/>
<xsd:element name="surname" type="xsd:string"/>
<xsd:element name="e-mail" type="xsd:string"/>

<xsd:complexType name="userType">
    <xsd:sequence>
        <xsd:element ref="firstname"/>
        <xsd:element ref="surname"/>
        <xsd:element ref="e-mail" minOccurs="0" maxOccurs="unbounded"/>
        <xsd:element name="contacts" type="contactsType"/>
    </xsd:sequence>
    <xsd:attribute name="id" type="xsd:string"/>
</xsd:complexType>

<xsd:complexType name="contactsType">
    <xsd:sequence>
        <xsd:element name="contact" type="contactType" minOccurs="0" maxOccurs="unbounded"/>
    </xsd:sequence>
    <xsd:attribute name="visible" type="xsd:boolean" default="true"/>
</xsd:complexType>

<xsd:complexType name="contactType">
    <xsd:attribute name="person-ref" type="xsd:string" default="true"/>
</xsd:complexType>

</xsd:schema>

</code>